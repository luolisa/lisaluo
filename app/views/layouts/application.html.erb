<!DOCTYPE html>
<html>
<head>
  <title>Lisa Luo</title>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>

  <!--jQuery migrate-->
  <script src="http://code.jquery.com/jquery-1.9.0.js"></script>
  <script src="http://code.jquery.com/jquery-migrate-1.2.1.js"></script>

  <!-- Load Paper.js library -->
  <!--<script type="text/javascript" src="/bower_components/paper/dist/paper.js"></script>-->
  <script type="text/javascript" src="js/paper.js"></script>
  <script type="text/paperscript" canvas="myCanvas">
    // Based on 'JPEG Raster' by Jonathan Puckey:
    // http://www.flickr.com/photos/puckey/3179779686/in/photostream/

    // Create a raster item:
    var raster = new Raster('drugs');
    var loaded = false;

    raster.on('load', function() {
      loaded = true;
      onResize();
    });

    // Make the raster invisible:
    raster.visible = false;

    var lastPos = view.center;
    function moveHandler(event) {
      if (!loaded)
        return;
      if (lastPos.getDistance(event.point) < 10)
        return;
      lastPos = event.point;

      var size = this.bounds.size.clone();
      var isLandscape = size.width > size.height;

      // If the path is in landscape orientation, we're going to
      // split the path horizontally, otherwise vertically:

      size /= isLandscape ? [2, 1] : [1, 2];

      var path = new Path.Rectangle({
        point: this.bounds.topLeft.floor(),
        size: size.ceil(),
        onMouseMove: moveHandler
      });

      path.fillColor = raster.getAverageColor(path);

      var path = new Path.Rectangle({
        
        point: isLandscape
        ? this.bounds.topCenter.ceil()
        : this.bounds.leftCenter.ceil(),
        size: size.floor(),
        onMouseMove: moveHandler
      });

      path.fillColor = raster.getAverageColor(path);

      this.remove();
    }

    function onResize(event) {
      if (!loaded)
        return;
      project.activeLayer.removeChildren();

      // Transform the raster so that it fills the bounding rectangle
      // of the view:
      raster.fitBounds(view.bounds, true);

      // Create a path that fills the view, and fill it with
      // the average color of the raster:
      new Path.Rectangle({
        rectangle: view.bounds,
        fillColor: raster.getAverageColor(view.bounds),
        onMouseMove: moveHandler
      });
    }
  </script>
</head>

<body>
 <!--Design the sidebar for the application.-->
 <div id='sidebar'>
   <div class='shadow' align='center'>
      <div id='sidebar_image'>
        <%= link_to image_tag('bliss.jpg'), :controller => 'home' %>
      </div>
      <div id='sidebar_name'>Lisa Luo</div>
      <div class='sidebar_text'>developer & designer</div>
      <div id='sidebar_quote'>
        baby,<br> 
        type me in plain text<br>
        so you can <br>see the real me<br>
      </div>
      <div id='sidebar_footer' align='center'>
          <a target='_blank' href='https://www.facebook.com/lluo92'>
            <i class='icon-facebook_circle gradient icon3x' aria-hidden="true"></i>
          </a>
          <a target='_blank' href='https://twitter.com/luoser'>
            <i class='icon-twitter_circle gradient icon3x'></i>
          </a>
          <a target='_blank' href='http://www.linkedin.com/pub/lisa-luo/36/770/4a'>
            <i class='icon-linked_in_circle gradient icon3x'></i>
          </a>

          <a target='_blank' href='https://github.com/luoser'>
            <i class='icon-git_circle gradient icon3x'></i>
          </a>

          <a target='_blank' href='https://soundcloud.com/luoser'>
            <i class='icon-soundcloud_circle gradient icon3x'></i>
          </a>
        <div id='copyright' align='center'>
            webdesign by lisa.2014-07-07.
        </div>
       </div>
   </div>
</div>

<!--Lay out the main page-->
<div class="mainpage">
  <div class="mainpage_tabs" align="center">

    <div class="row-fluid">
      <div class="span4"><a href="portfolio">Portfolio</a></div>
      <div class="span4"><a href="projects">Projects</a></div>
      <div class="span4"><a href="inspiration">Inspiration</a></div>
    </div>
  </div>

  <div class="content">
    <%= yield %>

  </div>
<!--   <div id="mainpage_footer">
    WEBSITE UNDER CONSTRUCTION!
  </div> -->

</div>
</body>
</html>
